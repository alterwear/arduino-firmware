/**
* Copyright (c) Pervasive Displays Inc. All rights reserved.
*
* Redistribution and use in source and binary forms, with or without
* modification, are permitted provided that the following conditions are met:
*
* 1. Redistributions of source code must retain the above copyright notice,
*    this list of conditions and the following disclaimer.
*
* 2. Redistributions in binary form must reproduce the above copyright notice,
*    this list of conditions and the following disclaimer in the documentation
*    and/or other materials provided with the distribution.
**/
#include <stdint.h>
#include <string.h>
#include <stdlib.h>
#include <stdbool.h>
#include "iTC_Engine.h"

const iTC_WaveformLUT_t iTC_215Mb_LUT={
	(uint8_t []){//Power on LUT
					iCMD_IO_Ctrl,io_All,0,
					iCMD_IO_Ctrl,io_SPI_Pin,1,
					0x11,0x01,0x01,  // io_Panel_on=1
					0x12,0x32,0x00,  //Delay 50 ms
					0x11,0x02,0x01,  // io_Res=1
					0x12,0x01,0x00,  //Delay 1 ms
					0x11,0x03,0x01,  // io_CS=1
					0x01,0x12,0x00, // SPI(12) SW RESET
					iCMD_END
				},
	(const uint8_t []){//Initial LUT
					0x10,0x00,0xE8,0x03,  			// Wait BUSY =0
					0x01,0x01,0x02,0xCF,0x00,  		// SPI(01,CF,00)
					0x01,0x0F,0x01,0x00,  	  		// SPI(0F,00)
					0x01,0x3A,0x01,0x00,  			// SPI(3A,00)
					0x03,0x80,0x32,0x3B,0x01,0x02,  //  ~ >= 50¢J , SPI(3B,02)
					0x03,0x32,0x2D,0x3B,0x01,0x03,  // 50¢J ~ 45¢J , SPI(3B,03)
					0x03,0x2D,0x28,0x3B,0x01,0x06,  // 45¢J ~ 40¢J , SPI(3B,06)
					0x03,0x28,0x23,0x3B,0x01,0x07,  // 40¢J ~ 35¢J , SPI(3B,07)
					0x03,0x23,0x1E,0x3B,0x01,0x0B,  // 35¢J ~ 30¢J , SPI(3B,0B)
					0x03,0x1E,0x80,0x3B,0x01,0x0E,  // 30¢J  > ~ , SPI(3B,0E)
					0x01,0x11,0x01,0x03,  			// SPI(11,03)
					0x01,0x44,0x02,0x00,0x0D,  		// SPI(44,00,0D)
					0x01,0x45,0x02,0x00,0xCF,  		// SPI(45,00,CF)
					0x01,0x4E,0x01,0x00,  			// SPI(4E,00)
					0x01,0x4F,0x01,0x00,  			// SPI(4F,00)
					0x01,0x2C,0x01,0x50,  // SPI(2C,50)
					iCMD_END
				},
	(const uint8_t []){//Input image update
					0x01,0x3C,0x01,0x80,  			// SPI(3C,80)
					0x01,0x03,0x02,0x10,0x0A,  		// SPI(03,10,0A)
					0x01,0x04,0x01,0x19,  			// SPI(04,19)
					0x01,0x05,0x01,0x00,  			// SPI(05,00)
					0x03,0x80,0x2D,0x32,0x1D,0x99,0x00,0x55,0xAA,0x66,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x2A,0x0A,0x4B,0x0B,0x2A,0x0A,0x00,0x00,0x00,0x00,0x00,0x00,0x00,  //    ~ >= 45¢J , SPI(32,99,00,55,AA,66,00,00,00,00,00....,)
					0x03,0x2D,0x23,0x32,0x1D,0x99,0x00,0x55,0xAA,0x66,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x29,0x09,0x4A,0x0A,0x29,0x09,0x00,0x00,0x00,0x00,0x00,0x00,0x00,  // 45¢J ~ 35¢J , SPI(32,99,00,55,AA,66,00,00,00,00,00....,)
					0x03,0x23,0x1E,0x32,0x1D,0x99,0x00,0x55,0xAA,0x66,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x27,0x07,0x48,0x08,0x27,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,  // 35¢J ~ 30¢J , SPI(32,99,00,55,AA,66,00,00,00,00,00....,)
					0x03,0x1E,0x19,0x32,0x1D,0x99,0x00,0x55,0xAA,0x66,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x25,0x05,0x46,0x06,0x25,0x05,0x00,0x00,0x00,0x00,0x00,0x00,0x00,  // 30¢J ~ 25¢J , SPI(32,99,00,55,AA,66,00,00,00,00,00....,)
					0x03,0x19,0x14,0x32,0x1D,0x99,0x00,0x55,0xAA,0x66,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x26,0x06,0x47,0x07,0x26,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,  // 25¢J ~ 20¢J , SPI(32,99,00,55,AA,66,00,00,00,00,00....,)
					0x03,0x14,0x0F,0x32,0x1D,0x99,0x00,0x55,0xAA,0x66,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x27,0x07,0x48,0x08,0x27,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,  // 20¢J ~ 15¢J , SPI(32,99,00,55,AA,66,00,00,00,00,00....,)
					0x03,0x0F,0x0A,0x32,0x1D,0x99,0x00,0x55,0xAA,0x66,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x2A,0x0A,0x4C,0x0C,0x2A,0x0A,0x00,0x00,0x00,0x00,0x00,0x00,0x00,  // 15¢J ~ 10¢J , SPI(32,99,00,55,AA,66,00,00,00,00,00....,)
					0x03,0x0A,0x05,0x32,0x1D,0x99,0x00,0x55,0xAA,0x66,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x2F,0x0F,0x51,0x11,0x2F,0x0F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,  // 10¢J ~ 5¢J , SPI(32,99,00,55,AA,66,00,00,00,00,00....,)
					0x03,0x05,0x00,0x32,0x1D,0x99,0x00,0x55,0xAA,0x66,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x36,0x16,0x59,0x19,0x36,0x16,0x00,0x00,0x00,0x00,0x00,0x00,0x00,  // 5¢J ~ 0¢J , SPI(32,99,00,55,AA,66,00,00,00,00,00....,)
					0x03,0x00,0x80,0x32,0x1D,0x99,0x00,0x55,0xAA,0x66,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x18,0x5B,0x1B,0x38,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,  // 0¢J  > ~ , SPI(32,99,00,55,AA,66,00,00,00,00,00....,)
					0x01,0x75,0x03,0x00,0x00,0x00,  // SPI(75,00,00,00)
					0x13,0x00,0x00,0x00,0x01,0x24,0x70,0x00,0xD0,0x00,  // CM_Monochrome , 112 X 208 , Pixel_1Bits , SPI(24 , Image datas..)
					0x01,0x22,0x01,0xC7,  			// SPI(22,C7)
					0x01,0x20,0x00,  				// SPI(20)
					0x10,0x00,0x10,0x27,  			// Wait BUSY =0
					iCMD_END
				},
	(const uint8_t []){//Power off
					NULL
				},
	(const uint8_t []){//ExceptionL
					iCMD_IO_Ctrl			,io_discharge,1,
					iCMD_IO_Ctrl			,io_SPI_Pin,0,
					iCMD_IO_Ctrl			,io_All,0,
					iCMD_END
				}

};
const iTC_WaveformLUT_t iTC_215Mb_PU_LUT={
	(const uint8_t []){//Power on LUT
				iCMD_IO_Ctrl,io_All,0,
				iCMD_IO_Ctrl,io_SPI_Pin,1,
				iCMD_IO_Ctrl,0x01,0x01,  // io_Panel_on=1
				iCMD_Delay,0x32,0x00,  //Delay 50 ms
				iCMD_IO_Ctrl,0x02,0x01,  // io_Res=1
				iCMD_Delay,0x01,0x00,  //Delay 1 ms
				iCMD_IO_Ctrl,0x03,0x01,  // io_CS=1
				iCMD_iTC_SPI,0x0F,0x00, // SPI(12) SW RESET
				iCMD_END
				},
	(const uint8_t []){//Initial LUT
				iCMD_Busy	,0x00,0x88,0x13,
				iCMD_iTC_SPI,0x01,0x02,0xCF,0x00,  		// SPI(01,CF,00)
				iCMD_iTC_SPI,0x03,0x02,0x10,0x0a,  		// SPI(03,10,0a)
				iCMD_iTC_SPI,0x04,0x01,0x19, 			// SPI(04,17)
				iCMD_iTC_SPI,0x05,0x01,0x00,	 		// SPI(05,00)
				iCMD_iTC_SPI,0x11,0x01,0x03,	  		// SPI(11,03)
				iCMD_iTC_SPI,0x2C,0x01,0x2d, 	 		// SPI(2c,0F)
				iCMD_iTC_SPI,0x3A,0x01,0x00,	  		// SPI(3a,7F)
				iCMD_iTC_SPI,0x3B,0x01,0x0c,	  		// SPI(3b,09)
				iCMD_iTC_SPI,0x3C,0x01,0x80,	  		// SPI(3c,80)
				iCMD_iTC_SPI,0x44,0x02,0x00,0x0d,  		// SPI(44,00,0d)
				iCMD_iTC_SPI,0x45,0x02,0x00,0xcf,  		// SPI(45,00,cf)
				iCMD_iTC_SPI,0x4E,0x01,0x00,  			// SPI(4e,00)
				iCMD_iTC_SPI,0x4F,0x01,0x00,  			// SPI(4f,00)
				iCMD_END
				},
	(const uint8_t []){//Input image update
				iCMD_iTC_SPI,0x32,0x1D,  0x24,0x00, 0x24,0x00, 0x81,0x42, 0x42,0x00, 0x00,0x00, 0x00,0x00, 0x00,0x00, 0x00,0x00,
										 0x12,0x01, 0x00,0x00, 0x00,0x00, 0x00,0x00, 0x00,0x00, 0x00,0x00, 0x00,
				//Send Image Data
				iCMD_Image_PU,CM_Monochrome,0x00,0x00,0x01,0x24,0x70,0x00,0xD0,0x00,  // CM_Monochrome , 112 X 208 , Pixel_1Bits , SPI(24 , Image datas..)
				iCMD_Busy,0x00,0x88,0x13,  				// Wait BUSY =0
				iCMD_iTC_SPI,0x22,0x01,0xc7,  			// SPI(22,c7)
				iCMD_iTC_SPI,0x20,0x00,  				// SPI(20)
				iCMD_Busy,0x00,0x88,0x13,  				// Wait BUSY =0
				iCMD_END
				},
	(const uint8_t []){//Power off
				iCMD_IO_Ctrl,0x04,0x00,  // io_DC=0
				iCMD_IO_Ctrl,0x01,0x00,  // io_Panel_on=0
				iCMD_IO_Ctrl,0x02,0x00,  // io_Res=0
				iCMD_IO_Ctrl,0x06,0x00,  // io_SPI_Pin=0
				iCMD_IO_Ctrl,0x03,0x00,  // io_CS=0
				iCMD_IO_Ctrl,0x05,0x01,  // io_discharge=1
				iCMD_END
				}
				,
	(const uint8_t []){//ExceptionL
				iCMD_IO_Ctrl			,io_discharge,1,
				iCMD_IO_Ctrl			,io_SPI_Pin,0,
				iCMD_IO_Ctrl			,io_All,0,
				iCMD_END
				}
};
